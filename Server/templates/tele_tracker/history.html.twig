{% extends 'base.max-width.html.twig' %}

{% block title %} Карта движения {% endblock %}

{% block body %}

    <style type="text/css">

        table.table th, table.table td {
            padding: 5px 2px;
        }

        .table-fixed tbody {
            height: 500px;
            overflow-y: auto;
            width: 100%;
        }

        .table-fixed thead,
        .table-fixed tbody,
        .table-fixed tr,
        .table-fixed td,
        .table-fixed th {
            display: block;

        }

        .table-fixed tr:after {
            content: "";
            display: block;
            visibility: hidden;
            clear: both;
        }

        .table-fixed tbody td,
        .table-fixed thead > tr > th {
            float: left;
        }

        ul.requests {
            display: block;
            float: left;
            width: 100px;

        }

    </style>
    <ul class="requests">
    {% for request in requests %}
        <a href="/history?request={{ request.id }}">{{ request.datetime | date("H:i:s") }}</a>
        {% if loop.index % 20 == 0 %}
            </ul><ul class="requests">
        {% endif %}
    {% endfor %}
    </ul>
    <table class="table table-striped table-responsive table-bordered" style="display: table">
        <colgroup>
            <!--<col width="80">
            <col width="70">
            <col width="162">
            <col width="96">
            <col width="56">
            <col width="127">
            <col width="191">
            <col width="132">
            <col width="80">
            <col width="84">
            <col width="43">
            <col width="64">
            <col width="41">
            <col width="79">
            <col width="86">
            <col width="54">
            <col width="55">
            <col width="116">
            <col width="102">
            <col width="117">
            <col width="68">-->
        </colgroup>


        <thead>

        <tr style="position: fixed; width: 100%; background-color: white ; display: table; top:0">

            <th>millis</th>
            <th>Бак, %</th>
            <th>Расход, км/л</th>
            <th>об/мин</th>
            <th>t, <sup>o</sup>C</th>
            <th>Пробег, м</th>
            <th>Скорость, км/ч</th>
            <th>Тормоз, %</th>
            <th>Газ, %</th>
            <th>Вес, кг</th>
            <th>DateTime</th>
            <th>Lat</th>
            <th>Long</th>
            <th>Alt</th>
            <th>Speed</th>
            <th>Course</th>
            <th>Sats</th>
            <th>CN0</th>
            <th>millisGPS</th>
            <th>Rssi/Ber</th>
            <th>millisCSQ</th>
            <th>Mem</th>

        </tr>

        <tr style="visibility: hidden;">

            <th>millis</th>
            <th>Бак, %</th>
            <th>Расход, км/л</th>
            <th>об/мин</th>
            <th>t, <sup>o</sup>C</th>
            <th>Пробег, м</th>
            <th>Скорость, км/ч</th>
            <th>Тормоз, %</th>
            <th>Газ, %</th>
            <th>Вес, кг</th>
            <th>DateTime</th>
            <th>Lat</th>
            <th>Long</th>
            <th>Alt</th>
            <th>Speed</th>
            <th>Course</th>
            <th>Sats</th>
            <th>CN0</th>
            <th>millisGPS</th>
            <th>Rssi/Ber</th>
            <th>millisCSQ</th>
            <th>Mem</th>
        </tr>
        </thead>
        <tbody>
        {% for line in lines %}
            <tr>

                <td>{{ line.millis }}</td>
                <td>{{ line.fuel }}</td>
                <td>{{ line.fuelEconomy }}</td>
                <td>{{ line.rpm }}</td>
                <td>{{ line.temperature }}</td>
                <td>{{ line.distance }}</td>
                <td>{{ line.speed }}</td>
                <td>{{ line.brakePedal }}</td>
                <td>{{ line.gasPedal }}</td>
                <td>{{ line.weight }}</td>
                <td>{{ line.gps.datetime|date("Y-m-d H:i:s") }}</td>
                <td>{{ line.gps.latitude }}</td>
                <td>{{ line.gps.longitude }}</td>
                <td>{{ line.gps.altitude }}</td>
                <td>{{ line.gps.speed }}</td>
                <td>{{ line.gps.course }}</td>
                <td>{{ line.gps.gpsSatellites }} / {{ line.gps.gnssSatellitesUsed }} /{{ line.gps.glonass }} </td>
                <td>{{ line.gps.CN }} </td>
                <td>{{ line.gps.millis }} </td>
                <td>{{ line.modem.rssi }} / {{ line.modem.ber }}</td>
                <td>{{ line.modem.millis }} </td>
                <td>{{ line.modem.MemoryFree }} </td>
            </tr>
        {% endfor %}

        </tbody>

    </table>
{% endblock %}
